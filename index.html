<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>CSCI 5828 &mdash; Fall 2015</title>

		<meta name="description" content="Lecture 05 for Ken Anderson's Spring 2015 Seminar on Data Engineering">
		<meta name="author" content="Ken Anderson">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2>HBase</h2>
					<h4>CSCI 5828 &mdash; Fall 2015</h4>
          <p>Kaiyue An</p>
				</section>

				<section>
					<h2>Hadoop</h2>
          <ul>
            <li>Before introducing HBase, we need to know what is Hadoop</li>
            <li>Uses distributed file system for storing big data</li>
            <li>Limitations of Hadoop
              <ul>
                <li>Can perform only batch processing</li>
                <li>Data will be accessed only in a sequential manner</li>
              </ul>
            </li>
            <li>Applications such as HBase, Cassandra, couchDB, Dynamo, and MongoDB are some of the databases that store huge amounts of data and access the data in a random manner</li>
          </ul>
				</section>

				<section>
					<h2>What is HBase(1)</h2>
          <ul>
            <li>A distributed column-oriented database built on top of the Hadoop file system</li>
            <li>Quick random access to huge amounts of structured data</li>
            <li>Leverages the fault tolerance provided by the Hadoop File System (HDFS)</li>
            <li>One can store the data in HDFS either directly or through HBase</li>
          </ul>
				</section>

				<section>
					<h2>What is HBase(2)</h2>
          <ul>
            <li>Data consumer reads/accesses the data in HDFS randomly using HBase</li>
            <li>HBase sits on top of the Hadoop File System and provides read and write access</li>
          </ul>
          <p><a href="images/HBase-Hadoop.png"><img height="259" src="images/HBase-Hadoop.png"></a></p>
				</section>
				
				<section>
					<h2>Column-Oriented Database</h2>
          <ul>
            <li>It is suitable for Online Analytical Processing (OLAP)</li>
            <li>Column-oriented databases are designed for huge tables</li>
          </ul>
          <p><a href="images/Column-Oriented.png"><img height="240" src="images/Column-Oriented.png"></a></p>
				</section>

				<section>
					<h2>Features of HBase</h2>
          <ul>
            <li>HBase is linearly scalable</li>
            <li>It has automatic failure support</li>
            <li>It provides consistent read and writes</li>
            <li>It integrates with Hadoop, both as a source and a destination</li>
            <li>It has easy java API for client</li>
			<li>It provides data replication across clusters</li>
          </ul>
				</section>

				<section>
					<h2>Where to Use HBase</h2>
          <ul>
            <li>Apache HBase is used to have random, real-time read/write access to Big Data</li>
            <li>It hosts very large tables on top of clusters of commodity hardware</li>
            <li>Apache HBase is a non-relational database modeled after Google's Bigtable</li>
            <li>Bigtable acts up on Google File System, likewise Apache HBase works on top of Hadoop and HDFS</li>
          </ul>
				</section>

				<section>
					<h2>Architecture</h2>
          <ul>
            <li>In HBase, tables are split into regions and are served by the region servers</li>
			<li>Regions are vertically divided by column families into “Stores”</li>
			<li>Stores are saved as files in HDFS</li>
			<li>Data storage will be in the form of regions (tables)</li>
			<li>These regions will be split up and stored in region servers</li>
          </ul>
				</section>

				<section>
					<h2>HBase shell(1)</h2>
          <ul>
            <li>HBase contains a shell using which you can communicate with HBase</li>
			<li>General Commands: status, version, table_help, whoami</li>
			<li>Data Definition language: create, list, disable, enable, alter, etc</li>
			<li>Data Manipulation language: put, get, delete, scan, etc</li>
          </ul>
				</section>

				<section>
					<h2>HBase shell(2)</h2>
					<p>Starting HBase shell</p>
					<pre><code data-trim contenteditable>
cd /usr/localhost/
cd Hbase
./bin/hbase shell
					</code></pre>
				</section>

				<section>
					<h2>General commands</h2>
          <ul>
            <li>status: returns the status of the system including the details of the servers running on the system</li>
			<li>version: returns the version of HBase used in your system</li>
			<li>table_help: guides you what and how to use table-referenced commands</li>
			<li>whoami: returns the user details of HBase</li>
          </ul>
				</section>

				<section>
					<h2>Java API</h2>
         <ul>
            <li>The fastest way to communicate with HBase</li>
            <li>Java Admin API
              <ul>
                <li>Class HBaseAdmin: a class representing the Admin</li>
                <li>Class Descriptor: this class contains the details about an HBase table such as: if the table is read only, the descriptors of all the column families, etc</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Create table</h2>
         <ul>
            <li>Syntax
			<pre><code data-trim contenteditable>
create ‘table name',’column family’ 
			</code></pre>
            </li>
            <li>Example
              <pre><code data-trim contenteditable>
create 'emp', 'personal data', ’professional data’ 
			</code></pre>
            </li>
            <li>Result
            <ul>
            <a href="images/Create Table.png"><img height="120" width="650" src="images/Create Table.png"></a>
            </ul>
            </li>
            <li>Or: create a table using java API: using createTable() method of HBaseAdmin class</li>
          </ul>
				</section>

				<section>
					<h2>List table(1)</h2>
         <ul>
            <li>list</li>
            <li>Or: listing tables using java API
              <ul> 
                <li>Step 1: A method called listTables() in the class HBaseAdmin to get the list of all the tables in HBase. This method returns an array of HTableDescriptor objects</li>
                <li>Step 2: Get the length of the HTableDescriptor[] array using the length variable of the HTableDescriptor class. Get the name of the tables from this object using getNameAsString() method. Run the ‘for’ loop using these and get the list of the tables in HBase.</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>List table(2)</h2>
         <ul>
            <li>Listing tables using java API
            <a href="images/ListTable.png"><img height="420" width="650" src="images/ListTable.png"></a>
            </li>
          </ul>
				</section>

				<section>
					<h2>Disable table(1)</h2>
         <ul>
            <li>Command
              <ul> 
                <li>disable: used to delete a table or change its settings</li>
                <li>is_disabled: used to find whether a table is disabled</li>
                <li>disable_all: used to disable all the tables matching the given regex</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Disable table(2)</h2>
         <ul>
            <li>Disable a table using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Verify whether the table is disabled using isTableDisabled() method</li>
                <li>Step 3: If the table is not disabled, disable it</li>
                	<ul>
            		<a href="images/DisableTable.png"><img height="340" width="550" src="images/DisableTable.png"></a>   
          			</ul>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Enable table(1)</h2>
         <ul>
            <li>Command
              <ul> 
                <li>enable: enable a table</li>
                <li>is_enabled: used to find whether a table is enabled</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Enable table(2)</h2>
         <ul>
            <li>Enable a table using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Verify whether the table is enabled using isTableEnabled() method</li>
                <li>Step 3: If the table is not enabled, enable it</li>
                	<ul>
            		<a href="images/EnableTable.png"><img height="340" width="550" src="images/EnableTable.png"></a>   
          			</ul>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Describe/alter table</h2>
         <ul>
         	<li>describe: returns the description of the table</li>
            <li>alter: used to make changes to an existing table
              <ul> 
                <li>Change the maximum number of cells of a column family</li>
                <li>Set and delete table scope operators</li>
                <li>Delete a column family from a table</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Alter table</h2>
         <ul>
            <li>Adding a column family using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Instantiate the HColumnDescriptor class</li>
                <li>Step 3: Add the column family using addColumn method</li>
                	<ul>
            		<a href="images/AlterTable.png"><img height="340" width="550" src="images/AlterTable.png"></a>   
          			</ul>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Existence of table</h2>
         <ul>
         	<li>Command: exists</li>
            <li>Verifying the existence of table using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Verify the existence of the table using the tableExists( ) method</li>
                	<ul>
            		<a href="images/ExisTable.png"><img height="340" width="550" src="images/ExisTable.png"></a>   
          			</ul>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Drop table(1)</h2>
         <ul>
            <li>Command
              <ul> 
                <li>drop: delete a table</li>
                <li>drop_all: drop the tables matching the “regex” given in the command</li>
              </ul>
            </li>
          </ul>
				</section>

				<section>
					<h2>Drop table(2)</h2>
         <ul>
            <li>Deleting a table using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Disable the table using the disableTable() method</li>
                <li>Step 3: Delete the table using the deleteTable() method</li>
                	<ul>
            		<a href="images/DropTable.png"><img height="340" width="550" src="images/DropTable.png"></a>   
          			</ul>
              </ul>
            </li>
          </ul>
				</section>

        <section>
          <h2>Shutting Down</h2>
         <ul>
            <li>Exit: exit the shell by typing the exit command</li>
            <li>Stop HBase: ./bin/stop-hbase.sh</li>
            <li>Stop HBase using java API
              <ul> 
                <li>Step 1: Instantiate HBaseAdmin class</li>
                <li>Step 2: Shut down the HBase using the shutdown() method</li>
                  <ul>
                <a href="images/ShutDown.png"><img height="300" width="550" src="images/ShutDown.png"></a>   
                </ul>
              </ul>
            </li>
          </ul>
        </section>

        <section>
          <h2>Insert data</h2>
         <ul>
            <li>How to create data in HBase table?
                <ul>
                    <li>put command</li>
                    <li>add() method of Put class</li>
                    <li>put() method of HTable class</li>
                </ul>
            </li>
            <li>Example
                <ul>
                    <li>Using put command:</li>
                    <pre><code data-trim contenteditable>
put 'emp','1','personal data:name','raju' 
                    </code></pre>
                     <a href="images/put.png"><img height="200" width="500" src="images/put.png"></a>   
                </ul>
            </li>
         </ul>
        </section>

        <section>
          <h2>Update data</h2>
         <ul>
            <li>How to update data in HBase table?
                <ul>
                    <li>put command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
put ‘table name’,’row ’,'Column family:column name',’new value’
put 'emp','row1','personal:city','Delhi'
                    </code></pre>
                    </li>
                </ul>
         </ul>
        </section>

         <section>
          <h2>Read data</h2>
         <ul>
            <li>How to read data in HBase table?
                <ul>
                    <li>get command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
get ‘table name’,’row’
get 'emp','row1'
                    </code></pre>
                    </li>
                </ul>
         </ul>
        </section>

        <section>
          <h2>Delete data</h2>
         <ul>
            <li>How to delete a specific cell in HBase table?
                <ul>
                    <li>delete command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
delete ‘table name’,’row’,'Column family:column name'
delete 'emp','1','personal data:city'
                    </code></pre>
                    </li>
                </ul>
         </ul>
        </section>

        <section>
          <h2>Scan data</h2>
         <ul>
            <li>How to view the data in HBase table?
                <ul>
                    <li>scan command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
scan ‘table name’
scan 'emp'
                    </code></pre>
                    </li>
                </ul>
         </ul>
        </section>
        
        <section>
          <h2>Count & truncate</h2>
         <ul>
            <li>How to count the number of rows in HBase table?
                <ul>
                    <li>count command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
count ‘table name’
count 'emp'
                    </code></pre>
                    </li>
                </ul>
            </li>
             <li>How to disables drops and recreates a table?
                <ul>
                    <li>truncate command</li>
                    <li>Example:
                    <pre><code data-trim contenteditable>
truncate ‘table name’
truncate 'emp'
                    </code></pre>
                    </li>
                </ul>
            </li>
         </ul>
        </section>

         <section>
          <h2>Security</h2>
         <ul>
            <li>Grant: grants specific rights such as read, write, execute, and admin on a table to a certain user</li>
            <pre><code data-trim contenteditable>
grant 'user','permissions'
grant 'kaiyuean', 'RWXCA'
                    </code></pre>
            <li>Revoke: used to revoke a user's access rights of a table.</li>
            <pre><code data-trim contenteditable>
revoke 'user'
revoke 'kaiyuean'
                    </code></pre>
            <li>User_permission: used to list all the permissions for a particular table</li>
            <pre><code data-trim contenteditable>
user_permission ‘tablename’
user_permission 'emp'
                    </code></pre> 
         </ul>
        </section>

         <section>
          <h2>References</h2>
         <ul>
            <li>https://hbase.apache.org/</li>
            <li>http://hortonworks.com/hadoop/hbase/</li>
            <li>https://azure.microsoft.com/en-us/documentation/articles/hdinsight-hbase-tutorial-get-started/</li>
            <li>http://www.tutorialspoint.com/hbase/index.htm</li>
         </ul>
        </section>

         <section>
          <h2>Thank you!</h2>
        </section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
